"use strict";(self.webpackChunkapaas_front_doc=self.webpackChunkapaas_front_doc||[]).push([[875],{40885:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>k,contentTitle:()=>m,default:()=>c,frontMatter:()=>o,metadata:()=>u,toc:()=>N});var n=a(87462),l=a(67294),r=a(3905),i=a(74879),d=a(70860),s=a(32834);const p=[{userid:1,name:"hzm",age:24,sex:"\u7537",enable:!0},{userid:2,name:"xxx",age:24,sex:"\u5973",enable:!1}],o=((0,s.observer)((()=>{const[e,t]=(0,l.useState)(0),a=(0,l.useMemo)((()=>new i.DataSet({primaryKey:"userid",name:"user",autoQuery:!1,pageSize:5,data:p,fields:[{name:"userid",type:d.FieldType.string,label:"\u7f16\u53f7",required:!0},{name:"name",type:d.FieldType.intl,label:"\u59d3\u540d"},{name:"age",type:d.FieldType.number,label:"\u5e74\u9f84",max:100,step:1},{name:"sex",type:d.FieldType.string,label:"\u6027\u522b",required:!0},{name:"enable",type:d.FieldType.boolean,label:"\u662f\u5426\u5f00\u542f"}]})),[]),n=(0,l.useMemo)((()=>[{name:"userid"},{name:"name",editor:!0},{name:"age",editor:!0},{name:"sex",editor:!0},{name:"enable",editor:!0}]),[]);return l.createElement("div",null,l.createElement(i.Button,{color:"primary",onClick:()=>{t((e=>e+1))}},"\u6309\u94ae",e),l.createElement(i.Table,{key:"basic",rowNumber:e=>{let{text:t}=e;return"#"+t},dataSet:a,columns:n}))})),{sidebar_position:9}),m="9.2. \u516c\u5171 hooks",u={unversionedId:"business/9.2.hooks",id:"business/9.2.hooks",title:"9.2. \u516c\u5171 hooks",description:"9.2.1. \u6279\u91cf DataSet \u4e8b\u4ef6\u76d1\u542c\uff08useDataSetEvents\uff09",source:"@site/docs/9.business/9.2.hooks.md",sourceDirName:"9.business",slug:"/business/9.2.hooks",permalink:"/apaas-front-doc/docs/business/9.2.hooks",draft:!1,editUrl:"https://github.com/hzm0321/apaas-front-doc/blob/master/docs/9.business/9.2.hooks.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"tutorialSidebar",previous:{title:"9.1. \u516c\u5171\u4e1a\u52a1\u7ec4\u4ef6",permalink:"/apaas-front-doc/docs/business/9.1.components"}},k={},N=[{value:"9.2.1. \u6279\u91cf DataSet \u4e8b\u4ef6\u76d1\u542c\uff08<code>useDataSetEvents</code>\uff09",id:"921-\u6279\u91cf-dataset-\u4e8b\u4ef6\u76d1\u542cusedatasetevents",level:3},{value:"\u4f7f\u7528\u793a\u4f8b",id:"\u4f7f\u7528\u793a\u4f8b",level:4},{value:"API",id:"api",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:4}],g={toc:N};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},g,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"92-\u516c\u5171-hooks"},"9.2. \u516c\u5171 hooks"),(0,r.kt)("h3",{id:"921-\u6279\u91cf-dataset-\u4e8b\u4ef6\u76d1\u542cusedatasetevents"},"9.2.1. \u6279\u91cf DataSet \u4e8b\u4ef6\u76d1\u542c\uff08",(0,r.kt)("inlineCode",{parentName:"h3"},"useDataSetEvents"),"\uff09"),(0,r.kt)("p",null,"\u652f\u6301\u76d1\u542c\u540c\u4e00\u4e2a ",(0,r.kt)("inlineCode",{parentName:"p"},"DataSet")," \u7684",(0,r.kt)("inlineCode",{parentName:"p"},"\u5355\u4e2a\u6216\u591a\u4e2a"),"\u4e8b\u4ef6\uff0c\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"DataSet")," \u5b9e\u4f8b\u53d8\u5316\u65f6\uff0c\u4f1a\u91cd\u65b0\u751f\u6210\u65b0\u7684\u76d1\u542c\u3002"),(0,r.kt)("h4",{id:"\u4f7f\u7528\u793a\u4f8b"},"\u4f7f\u7528\u793a\u4f8b"),(0,r.kt)("p",null,"\u5355\u4e2a\u4e8b\u4ef6\u76d1\u542c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"useDataSetEvents(ds,'update',()=>{XXX})\n")),(0,r.kt)("p",null,"\u591a\u4e2a\u4e8b\u4ef6\u4f9d\u6b21\u76d1\u542c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"useDataSetEvents(ds,['select','unSelect'],[()=>{XXX},()=>{XXX}])\n")),(0,r.kt)("p",null,"\u4e00\u4e2a\u56de\u8c03\u76d1\u542c\u591a\u4e2a\u4e8b\u4ef6\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"useDataSetEvents(ds,['select','unSelect'],()=>{XXX})\n")),(0,r.kt)("p",null,"\u53ea\u76d1\u542c\u4e00\u6b21\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"useDataSetEvents(ds,'select','unSelect',()=>{XXX},{once:true})\n")),(0,r.kt)("p",null,"\u4f20\u5165\u914d\u7f6e\u9879 ",(0,r.kt)("inlineCode",{parentName:"p"},"once")," \u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," \u5373\u53ef\u3002"),(0,r.kt)("h4",{id:"api"},"API"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"useDataSetEvents(\n  dataSet: DataSet,\n  eventNames: string | string[],\n  handler: CallableFunction | CallableFunction[],\n  options?: AddEventListenerOptions\n)\n")),(0,r.kt)("h4",{id:"\u53c2\u6570"},"\u53c2\u6570"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),(0,r.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,r.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"dataSet"),(0,r.kt)("td",{parentName:"tr",align:null},"DataSet \u5b9e\u4f8b"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"DataSet")),(0,r.kt)("td",{parentName:"tr",align:null},"-")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"eventNames"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e8b\u4ef6\u540d\u79f0"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"string \\| string[]")),(0,r.kt)("td",{parentName:"tr",align:null},"-")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"handler"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5904\u7406\u51fd\u6570"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"CallableFunction \\| CallableFunction[]")),(0,r.kt)("td",{parentName:"tr",align:null},"-")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"options\uff08\u53ef\u9009\uff09"),(0,r.kt)("td",{parentName:"tr",align:null},"\u9009\u9879"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Options")),(0,r.kt)("td",{parentName:"tr",align:null},"-")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Options")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),(0,r.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,r.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"once"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53ef\u9009\u9879\uff0c",(0,r.kt)("inlineCode",{parentName:"td"},"handler")," \u5728\u6dfb\u52a0\u4e4b\u540e\u6700\u591a\u53ea\u8c03\u7528",(0,r.kt)("inlineCode",{parentName:"td"},"\u4e00\u6b21"),"\u3002\u5982\u679c\u662f ",(0,r.kt)("inlineCode",{parentName:"td"},"true"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"td"},"handler")," \u4f1a\u5728\u5176\u88ab\u8c03\u7528\u4e4b\u540e\u81ea\u52a8\u79fb\u9664\u3002"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"capture"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53ef\u9009\u9879\uff0c",(0,r.kt)("inlineCode",{parentName:"td"},"handler")," \u4f1a\u5728\u8be5 DataSet \u7c7b\u578b\u7684\u4e8b\u4ef6\u6355\u83b7\u9636\u6bb5\u4f20\u64ad\u5230\u8be5 ",(0,r.kt)("inlineCode",{parentName:"td"},"EventTarget")," \u65f6\u89e6\u53d1\u3002"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"passive"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53ef\u9009\u9879\uff0c\u8bbe\u7f6e\u4e3a ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," \u65f6\uff0c\u8868\u793a ",(0,r.kt)("inlineCode",{parentName:"td"},"handler")," \u6c38\u8fdc\u4e0d\u4f1a\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"td"},"preventDefault()")," \u3002"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"boolean")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))))))}c.isMDXComponent=!0}}]);